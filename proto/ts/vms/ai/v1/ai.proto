syntax = "proto3";

package ts.vms.ai.v1;

import "ts/vms/common/v1/common.proto";

option go_package = "github.com/technosupport/ts-vms/gen/go/ai/v1;aiv1";

service AiService {
  rpc UpdateModelConfig(UpdateModelConfigRequest) returns (UpdateModelConfigResponse);
  rpc GetModelList(GetModelListRequest) returns (GetModelListResponse);
}

message UpdateModelConfigRequest {
  string camera_id = 1;
  bool enabled = 2;
  repeated string active_models = 3; // e.g. ["yolo-v8-n", "face-rec-v1"]
  map<string, float> confidence_thresholds = 4;
}

message UpdateModelConfigResponse {
  bool success = 1;
}

message GetModelListRequest {}

message GetModelListResponse {
  repeated Model models = 1;
}

message Model {
  string id = 1;
  string name = 2;
  string version = 3;
  repeated string capabilities = 4; // "person", "vehicle"
}
